"""
단원 카탈로그 (과목 → 대단원 → 소단원)

UI에서 콤보박스로 선택할 수 있도록, 고정된 분류표를 제공합니다.
"""

from __future__ import annotations

from typing import Dict, List


# NOTE: Python dict는 삽입 순서를 보존하므로, 아래 순서가 UI 표시 순서가 됩니다.
UNIT_CATALOG: Dict[str, Dict[str, List[str]]] = {
    "중1-1": {
        "소인수분해": ["소인수분해", "최대공약수와 최소공배수"],
        "정수와 유리수": ["정수와 유리수", "정수와 유리수의 계산"],
        "문자와 식": ["문자의 사용과 식의 계산", "일차방정식", "일차방정식의 활용"],
        "좌표평면과 그래프": ["좌표평면과 그래프", "정비례와 반비례"],
    },
    "중1-2": {
        "기본 도형과 작도": ["기본 도형", "위치 관계", "작도와 합동"],
        "평면도형의 성질": ["다각형", "원과 부채꼴"],
        "입체도형의 성질": ["다면체와 회전체", "입체도형의 겉넓이와 부피"],
        "자료의 정리와 해석": ["자료의 정리와 해석"],
    },
    "중2-1": {
        "수와 식": ["유리수와 순환소수", "식의 계산"],
        "부등식": ["일차부등식", "일차부등식의 활용"],
        "방정식": ["연립일차방정식", "연립방정식의 풀이", "연립방정식의 활용"],
        "함수": ["일차함수와 그래프(1)", "일차함수와 그래프(2)", "일차함수와 일차방정식의 관계"],
    },
    "중2-2": {
        "도형의 성질": ["삼각형의 성질", "사각형의 성질"],
        "도형의 닮음": ["도형의 닮음", "닮은 도형의 성질", "피타고라스 정리"],
        "확률": ["경우의 수와 확률"],
    },
    "중3-1": {
        "실수와 그 계산": ["제곱근과 실수", "근호를 포함한 식의 계산"],
        "다항식의 곱셈과 인수분해": ["다항식의 곱셈", "다항식의 인수분해"],
        "이차방정식": ["이차방정식의 풀이", "이차방정식의 활용"],
        "이차함수": ["이차함수의 그래프", "이차함수의 활용"],
    },
    "중3-2": {
        "삼각비": ["삼각비", "삼각비의 활용"],
        "원의 성질": ["원과 직선", "원주각", "원주각의 활용"],
        "통계": ["대푯값과 산포도", "상관관계"],
    },
    "공통수학1": {
        "다항식": ["다항식의 연산", "나머지정리", "인수분해"],
        "방정식과 부등식": ["복소수와 이차방정식", "이차방정식과 이차함수", "여러 가지 방정식과 부등식"],
        "경우의 수": ["합의 법칙과 곱의 법칙", "순열과 조합"],
        "행렬": ["행렬과 그 연산"],
    },
    "공통수학2": {
        "도형의 방정식": ["평면좌표", "직선의 방정식", "원의 방정식", "도형의 이동"],
        "집합과 명제": ["집합", "명제"],
        "함수": ["함수와 그래프", "유리함수와 무리함수"],
    },
    "대수": {
        "지수함수와 로그함수": ["지수와 로그", "지수함수와 로그함수"],
        "삼각함수": ["삼각함수", "사인법칙과 코사인법칙"],
        "수열": ["등차수열과 등비수열", "수열의 합", "수학적 귀납법"],
    },
    "미적분1": {
        "함수의 극한과 연속": ["함수의 극한", "함수의 연속"],
        "미분": ["미분계수와 도함수", "도함수의 활용"],
        "적분": ["부정적분과 정적분", "정적분의 활용"],
    },
    "확통": {
        "경우의 수": ["순열과 조합", "이항정리"],
        "확률": ["확률의 뜻과 활용", "조건부확률"],
        "통계": ["확률분포", "통계적 추정"],
    },
    "기하": {
        "이차곡선": ["이차곡선", "이차곡선과 직선"],
        "벡터": ["벡터의 연산", "평면벡터의 성분과 내적"],
        "공간도형": ["공간도형", "공간좌표"],
    },
    "미적분(2015)": {
        "수열의 극한": ["수열의 극한", "급수"],
        "미분법": ["여러 가지 함수의 미분", "여러 가지 미분법", "도함수의 활용"],
        "적분법": ["여러 가지 함수의 적분", "정적분의 활용"],
    },
}


def list_subjects() -> List[str]:
    return list(UNIT_CATALOG.keys())


def list_major_units(subject: str) -> List[str]:
    return list(UNIT_CATALOG.get(subject, {}).keys())


def list_sub_units(subject: str, major_unit: str) -> List[str]:
    return list(UNIT_CATALOG.get(subject, {}).get(major_unit, []))

